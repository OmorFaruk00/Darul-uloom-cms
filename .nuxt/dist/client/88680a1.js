(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{486:function(t,e,r){"use strict";r.r(e);r(5),r(60);var l={layout:"Student-content",mounted:function(){this.fetchDepartmentInfo(),this.fetchSyllabusInfo()},data:function(){return{errors:[],departments:"",base_url:"http://localhost:8000",syllabus:{description:"",short_description:"",department:"",status:"",file:""}}},methods:{fetchDepartmentInfo:function(){var t=this;this.$axios.$get("/admission/department").then((function(e){t.departments=e})).catch((function(e){t.$toaster.error("Department Not found")}))},fetchSyllabusInfo:function(){var t=this;this.$axios.$get("syllabus/edit/"+this.$route.params.id).then((function(e){t.syllabus=e})).catch((function(t){console.log(t)}))},updateSyllabus:function(){var t=this,e=new FormData;e.append("department",this.syllabus.department),e.append("status",this.syllabus.status),e.append("description",this.syllabus.description),e.append("short_description",this.syllabus.short_description),this.syllabus.new_file&&e.append("file",this.syllabus.new_file),this.$axios.$post("/syllabus/update/"+this.$route.params.id,e).then((function(e){t.syllabus="",t.errors={},t.$toaster.success(e.message),t.$router.push("/student/syllabus")})).catch((function(e){t.errors=e.response.data.errors}))}}},o=r(30),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form-bg py-5"},[r("div",{staticClass:"col-md-6 offset-md-3"},[r("div",{staticClass:"form-container"},[r("h3",{staticClass:"title"},[t._v("Update Syllabus")]),t._v(" "),r("form",{staticClass:"form-horizontal"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6 col-xl-6 col-sm-12"},[r("div",{staticClass:"form-group"},[r("label",[t._v("Department Name*")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.syllabus.department,expression:"syllabus.department"}],staticClass:"form-control",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.syllabus,"department",e.target.multiple?r:r[0])}}},[r("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Select Department Name")]),t._v(" "),t._l(t.departments,(function(e,l){return r("option",{key:l,attrs:{disable:""},domProps:{value:e.department_name,textContent:t._s(e.department_name)}})}))],2),t._v(" "),t.errors.department?r("h6",{staticClass:"text-danger",domProps:{textContent:t._s(t.errors.department[0])}}):t._e()])]),t._v(" "),r("div",{staticClass:"col-md-6 col-xl-6 col-sm-12"},[r("div",{staticClass:"form-group"},[r("label",[t._v("Publish Status*")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.syllabus.status,expression:"syllabus.status"}],staticClass:"form-control",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.syllabus,"status",e.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:"",disabled:"",value:""}},[t._v("Select Status")]),t._v(" "),r("option",{attrs:{value:"draft"}},[t._v("Draft")]),t._v(" "),r("option",{attrs:{value:"published"}},[t._v("Published")])]),t._v(" "),t.errors.status?r("h6",{staticClass:"text-danger",domProps:{textContent:t._s(t.errors.status[0])}}):t._e()])]),t._v(" "),r("div",{staticClass:"col-md-6 col-xl-6 col-sm-12"},[r("div",{staticClass:"form-group"},[r("label",[t._v("Description *")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.syllabus.description,expression:"syllabus.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Description "},domProps:{value:t.syllabus.description},on:{input:function(e){e.target.composing||t.$set(t.syllabus,"description",e.target.value)}}}),t._v(" "),t.errors.description?r("h6",{staticClass:"text-danger",domProps:{textContent:t._s(t.errors.description[0])}}):t._e()])]),t._v(" "),r("div",{staticClass:"col-md-6 col-xl-6 col-sm-12"},[r("div",{staticClass:"form-group"},[r("label",[t._v("Short Description *")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.syllabus.short_description,expression:"syllabus.short_description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Short Description"},domProps:{value:t.syllabus.short_description},on:{input:function(e){e.target.composing||t.$set(t.syllabus,"short_description",e.target.value)}}}),t._v(" "),t.errors.short_description?r("h6",{staticClass:"text-danger",domProps:{textContent:t._s(t.errors.short_description[0])}}):t._e()])]),t._v(" "),r("div",{staticClass:"col-md-6 col-xl-6 col-sm-12"},[r("div",{staticClass:"form-group"},[r("label",[t._v("File*")]),t._v(" "),r("input",{staticClass:"form-control",attrs:{type:"file",placeholder:"",accept:"image/*"},on:{change:function(e){return t.syllabus.new_file=e.target.files[0]}}}),t._v(" "),t.errors.file?r("h6",{staticClass:"text-danger",domProps:{textContent:t._s(t.errors.file[0])}}):t._e()]),t._v(" "),r("img",{staticStyle:{height:"80px"},attrs:{src:t.base_url+"/images/syllabus/"+t.syllabus.file,alt:"image"}})])]),t._v(" "),r("div",{staticClass:"d-flex justify-content-end pt-3"},[r("button",{staticClass:"btn-submit",on:{click:function(e){return e.preventDefault(),t.updateSyllabus()}}},[t._v("Submit")])])])])])])}),[],!1,null,"605e0b7a",null);e.default=component.exports}}]);