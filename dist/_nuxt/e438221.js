(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{422:function(t,e,o){"use strict";o.r(e);o(4),o(60);var l={layout:"Dum-content",mounted:function(){this.getblog()},data:function(){return{blogs:[],blog:{title:"",description:"",new_image:""},errors:{},base_url:"https://api.darululoom-moniram.com"}},methods:{getblog:function(){var t=this;this.$axios.$get("/blog/show").then((function(e){t.blogs=e})).catch((function(t){console.log(t)}))},blogEdit:function(t){var e=this;$("#blogUpdate").modal("show"),this.$axios.$get("/blog/edit/"+t).then((function(t){e.blog=t})).catch((function(t){console.log(t)}))},blogUpdate:function(){var t=this,e=new FormData;e.append("title",this.blog.title),e.append("description",this.blog.description),this.blog.new_image&&e.append("image",this.blog.new_image),this.$axios.$post("/blog/update/"+this.blog.id,e).then((function(e){t.getblog(),$("#blogUpdate").modal("hide"),t.$toaster.success(e.message),t.errors=""})).catch((function(e){console.log(e),t.errors=e.response.data.errors}))},deleteblog:function(t){var e=this;confirm("Are you sure to delete this blog?")&&this.$axios.$get("/blog/delete/"+t).then((function(t){e.getblog(),e.$toaster.error(t.message)})).catch((function(t){console.log(t)}))},blogStatus:function(t){var e=this;this.$axios.$get("/blog/status/"+t).then((function(t){e.getblog(),e.$toaster.success(t.message)})).catch((function(t){console.log(t)}))}}},n=o(34),component=Object(n.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"pt-5"},[o("div",{staticClass:"row"},[o("div",{staticClass:"mx-auto col-md-12"},[o("div",{staticClass:"panel"},[o("div",{staticClass:"panel-heading"},[o("div",{staticClass:"row"},[t._m(0),t._v(" "),o("div",{staticClass:"col-sm-7 col-xs-12 text-right"},[o("nuxt-link",{staticClass:"btn-add",attrs:{to:"/dum-ac/blog/create"}},[t._v("Add blog")])],1)])]),t._v(" "),o("div",{staticClass:"panel-body table-responsive"},[o("table",{staticClass:"table table-striped  text-center"},[t._m(1),t._v(" "),o("tbody",t._l(t.blogs,(function(e){return o("tr",{key:e._id},[o("td",[t._v(t._s(e.id))]),t._v(" "),o("td",[t._v(t._s(e.title))]),t._v(" "),o("td",[t._v(t._s(e.description))]),t._v(" "),o("td",[o("img",{staticStyle:{height:"80px"},attrs:{src:t.base_url+"/images/dum/"+e.image,alt:"image"}})]),t._v(" "),o("td",[1==e.status?o("button",{staticClass:"btn-active",on:{click:function(o){return t.blogStatus(e.id)}}},[t._v("\n                                            Active\n                                        ")]):t._e(),t._v(" "),0==e.status?o("button",{staticClass:"btn-inactive",on:{click:function(o){return t.blogStatus(e.id)}}},[t._v("\n                                            Inactive\n                                        ")]):t._e()]),t._v(" "),o("td",[o("button",{staticClass:"btn-edit",on:{click:function(o){return t.blogEdit(e.id)}}},[t._v("Edit")]),t._v(" "),o("button",{staticClass:"btn-delete",on:{click:function(o){return t.deleteblog(e.id)}}},[t._v("\n                                            Delete\n                                        ")])])])})),0)])])])])]),t._v(" "),o("div",{staticClass:"modal fade",attrs:{id:"blogUpdate",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[t._v("Title")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.blog.title,expression:"blog.title"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Title"},domProps:{value:t.blog.title},on:{input:function(e){e.target.composing||t.$set(t.blog,"title",e.target.value)}}}),t._v(" "),t.errors.title?o("p",{staticClass:"text-danger",domProps:{textContent:t._s(t.errors.title[0])}}):t._e()]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[t._v("Short Description")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.blog.description,expression:"blog.description"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Short Description"},domProps:{value:t.blog.description},on:{input:function(e){e.target.composing||t.$set(t.blog,"description",e.target.value)}}}),t._v(" "),t.errors.description?o("p",{staticClass:"text-danger",domProps:{textContent:t._s(t.errors.description[0])}}):t._e()]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[t._v("Image")]),t._v(" "),o("input",{attrs:{required:"",type:"file",id:"blog_image",name:"image",accept:"image/*"},on:{change:function(e){return t.blog.new_image=e.target.files[0]}}}),t._v(" "),t.errors.image?o("p",{staticClass:"text-danger",domProps:{textContent:t._s(t.errors.image[0])}}):t._e()])]),t._v(" "),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-submit",attrs:{type:"button"},on:{click:function(e){return t.blogUpdate()}}},[t._v("Update")])])])])])])])}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col col-sm-5 col-xs-12"},[o("h4",{staticClass:"title"},[t._v("blog List")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("thead",[o("tr",[o("th",[t._v("ID")]),t._v(" "),o("th",[t._v("Title")]),t._v(" "),o("th",[t._v("Description")]),t._v(" "),o("th",[t._v("Image")]),t._v(" "),o("th",[t._v("Status")]),t._v(" "),o("th",{staticStyle:{width:"200px"}},[t._v("Action")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[t._v("blog Update")]),t._v(" "),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])])}],!1,null,"c079548a",null);e.default=component.exports}}]);